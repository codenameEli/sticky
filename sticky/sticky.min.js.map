{"version":3,"sources":["sticky.js"],"names":[],"mappings":"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","file":"sticky.min.js","sourcesContent":[";(function ( $, window, document, undefined ) {\n\n    var pluginName = \"sticky\",\n        defaults = {\n            'elementHeight': 0,\n            'tolerance': 0,\n            'classes': {\n                'default': 'sticky-element',\n                'active': 'sticky-active',\n                'inactive': 'sticky-inactive',\n            },\n        };\n\n    function Plugin( element, options ) {\n\n        this.element = element;\n\n        this.options = $.extend( {}, defaults, options) ;\n\n        this._defaults = defaults;\n        this._name = pluginName;\n\n        this.init();\n    }\n\n    function debounce(func, wait, immediate) { // https://davidwalsh.name/javascript-debounce-function\n        var timeout;\n        return function() {\n            var context = this, args = arguments;\n            var later = function() {\n                timeout = null;\n                if (!immediate) func.apply(context, args);\n            };\n            var callNow = immediate && !timeout;\n            clearTimeout(timeout);\n            timeout = setTimeout(later, wait);\n            if (callNow) func.apply(context, args);\n        };\n    };\n\n    Plugin.prototype = {\n\n        init: function() {\n\n            this.setOptions();\n            this.setElementAttributes();\n            this.initCompensationElement();\n            this.addListeners();\n        },\n\n        setOptions: function() {\n\n            this.options.elementHeight = $(this.element).height();\n            this.options.tolerance = this.options.tolerance ? this.options.tolerance : $(this.element).height() * 2;\n        },\n\n        setElementAttributes: function() {\n\n            $(this.element).addClass( this.options.classes.default );\n        },\n\n        createCompensationElement: function() {\n\n            this.compensationElement = '.sticky-compensation-element';\n            $('body').prepend( '<div class=\"sticky-compensation-element\"></div>' );\n        },\n\n        initCompensationElement: function() {\n\n            this.createCompensationElement();\n            this.addCompensationElementAttrs();\n        },\n\n        addCompensationElementAttrs: function() {\n\n            var classes = this.options.classes;\n\n            $(this.compensationElement).addClass( classes.inactive );\n        },\n\n        addListeners: function() {\n\n            var self = this;\n\n            var update = debounce(function() {\n\n                self.setOptions();\n            }, 250);\n\n            $(window).on( 'resize', update );\n            $(document).on( 'ready', this.determineStickyState.bind(this) );\n            $(document).on( 'scroll', this.determineStickyState.bind(this) );\n        },\n\n        determineStickyState: function() {\n\n            if ( window.pageYOffset > this.options.tolerance + this.options.elementHeight ) {\n\n                if ( $(this.element).hasClass('sticky-active') ) { return; }\n                this.doSticky();\n            }\n\n            if ( window.pageYOffset < this.options.tolerance + this.options.elementHeight ) {\n\n                if ( $(this.element).hasClass('sticky-inactive') ) { return; }\n                this.undoSticky();\n            }\n        },\n\n        doSticky: function() {\n\n            console.log(\"DOING SSTICKY\");\n            $(this.element).css({\n                'top': '-' + this.options.elementHeight + 'px'\n            });\n\n            $(this.compensationElement).removeClass( this.options.classes.inactive );\n            $(this.compensationElement).addClass( this.options.classes.active );\n            $(this.element).removeClass( this.options.classes.inactive );\n            $(this.element).addClass( this.options.classes.active );\n\n            $(this.compensationElement).css({\n                'height': this.options.elementHeight + 'px',\n            });\n\n            $(this.element).css({\n                'top': '0'\n            });\n        },\n\n        undoSticky: function() {\n\n            $(this.compensationElement).removeClass( this.options.classes.active );\n            $(this.compensationElement).addClass( this.options.classes.inactive );\n            $(this.element).addClass( this.options.classes.inactive );\n            $(this.element).removeClass( this.options.classes.active );\n\n            $(this.element).css({\n                'top': '-' + this.options.elementHeight + 'px'\n            });\n\n            $(this.compensationElement).css({\n                'height': '0',\n            });\n        },\n    };\n\n    $.fn[pluginName] = function ( options ) {\n        return this.each(function () {\n            if (!$.data(this, \"plugin_\" + pluginName)) {\n                $.data(this, \"plugin_\" + pluginName,\n                new Plugin( this, options ));\n            }\n        });\n    };\n\n})( jQuery, window, document );"]}